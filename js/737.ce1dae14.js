"use strict";(self["webpackChunkmimyz_h5"]=self["webpackChunkmimyz_h5"]||[]).push([[737],{99:function(e,l,t){t.d(l,{R:function(){return f},Z:function(){return m}});var n=t(3396),a=t(7139),o=t(4870);const s=(0,n.Uk)("登录");var i={__name:"SmallBtn",props:{inline:{type:Boolean,default:!0},style:{type:Object,default:()=>({})}},emits:["click"],setup(e,{emit:l}){const t=e,i=(0,o.qj)({display:(t.inline?"inline-":"")+"block",fontSize:"0.3rem",backgroundColor:"#f46b84",borderRadius:"0.1rem",color:"#fff",...t.style}),c=e=>{l("click",e)};return(e,l)=>((0,n.wg)(),(0,n.iD)("span",{class:"custom-btn",onClick:c,style:(0,a.j5)(i)},[(0,n.WI)(e.$slots,"icon"),(0,n.WI)(e.$slots,"default",{},(()=>[s]))],4))}},c=t(89);const d=(0,c.Z)(i,[["__scopeId","data-v-bc94e48c"]]);var u=d,r=t(2229);const p=["type","disabled"],g=(0,n.Uk)("登  录");var y={__name:"BigBtn",props:{type:{type:String,default:"button"},style:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},background:String},emits:["click"],setup(e,{emit:l}){const t=e,s=(0,o.qj)({...t.style,background:t.background}),i=e=>{t.loading||t.disabled||l("click",e)};return(l,t)=>((0,n.wg)(),(0,n.iD)("button",{type:e.type,disabled:e.disabled,style:(0,a.j5)({...s}),class:(0,a.C_)(["big-btn",[e.loading?"not-allow":"",e.disabled?"not-allow disabled":""]]),onClick:i},[(0,n.WI)(l.$slots,"default",{},(()=>[e.loading?((0,n.wg)(),(0,n.j4)((0,o.SU)(r.g),{key:0})):(0,n.kq)("",!0),g]))],14,p))}};const v=(0,c.Z)(y,[["__scopeId","data-v-fe1782ce"]]);var f=v,m=u},3737:function(e,l,t){t.r(l),t.d(l,{default:function(){return U}});var n=t(3396),a=t(9242),o=t(7139),s=t(4870),i=t(2483),c=t(65),d=t(9733),u=t(99),r=t(4125);const p=e=>{const l="/api/user/login";return(0,r.ty)(l,e)},g=e=>((0,n.dD)("data-v-ce6fd738"),e=e(),(0,n.Cn)(),e),y={class:"login-content"},v=g((()=>(0,n._)("h3",null,"登    录",-1))),f={class:"login-item"},m=g((()=>(0,n._)("div",{class:"line"},null,-1))),b={class:"login-item mar"},_=g((()=>(0,n._)("div",{class:"line"},null,-1))),k=g((()=>(0,n._)("p",{style:{"text-align":"right",padding:"20px"}},null,-1))),h={style:{padding:"0.3rem"}},w=(0,n.Uk)("一键填充账号密码");var C={__name:"index",setup(e){const l=(0,s.iH)(""),t=(0,s.iH)(""),r=(0,s.iH)(!1),g=(0,i.tv)(),C=(0,i.yj)(),j=(0,c.oR)(),S=()=>{window.scroll(0,0)},U=()=>{l.value=""},B=()=>{let e=document.querySelector("body");e.scrollTop=0},x=()=>{t.value=""};(0,n.YP)(l,(e=>{r.value=e.length>0&&t.value.length>0})),(0,n.YP)(t,(e=>{r.value=e.length>0&&t.value.length>0}));const I=()=>{l.value="test",t.value="123456"},q=async()=>{if(!t.value||t.value.length<6)return(0,d.F)("密码不能为空且长度不能小于6位！");try{const e=d.F.loading({message:"登录中...",forbidClick:!0,loadingType:"spinner"});let n=await p({userName:l.value,password:t.value});if(e.clear(),0==n.errorCode){console.log(n),j.commit("login",n.data);const e=C.query;let l=e.redirectPath?e.redirectPath:"/mine";g.replace(l)}}catch(e){console.log(e)}},R=()=>(0,d.F)("未实现！");return(e,i)=>((0,n.wg)(),(0,n.iD)("div",y,[v,(0,n._)("form",null,[(0,n._)("div",f,[(0,n.wy)((0,n._)("input",{type:"text",placeholder:"用户名","onUpdate:modelValue":i[0]||(i[0]=e=>l.value=e),autoComplete:"off"},null,512),[[a.nr,l.value]]),m,(0,n._)("i",{class:"clear",style:(0,o.j5)({display:l.value.length>0?"flex":"none"}),onClick:U},"×",4)]),(0,n._)("div",b,[(0,n.wy)((0,n._)("input",{type:"password",class:"password",placeholder:"请输入密码","onUpdate:modelValue":i[1]||(i[1]=e=>t.value=e),autoComplete:"off",onFocus:B,onBlur:S},null,544),[[a.nr,t.value]]),_,(0,n._)("i",{class:"clear rig",style:(0,o.j5)({display:t.value.length>0?"flex":"none"}),onClick:x},"×",4),(0,n._)("a",{class:"forget-pw",onClick:R},"忘记密码？")]),k]),(0,n._)("div",h,[(0,n.Wm)((0,s.SU)(u.R),{disabled:!r.value,background:"#f86698",onClick:q,style:{"margin-bottom":"0.4rem"}},null,8,["disabled"]),(0,n.Wm)((0,s.SU)(u.R),{background:"#686363",onClick:I},{default:(0,n.w5)((()=>[w])),_:1})])]))}},j=t(89);const S=(0,j.Z)(C,[["__scopeId","data-v-ce6fd738"]]);var U=S}}]);